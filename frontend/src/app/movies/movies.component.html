<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
</head>


<div class="container">
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4">
        <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
            <img src="https://github.com/twbs.png" alt="Bootstrap" width="32" height="32"
                class="rounded-circle border border-white">
        </a>

        <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
            <li><a href="#" class="nav-link px-2 link-danger">Home</a></li>
            <li><a href="#" class="nav-link px-2 link-light">Features</a></li>
            <li><a href="#" class="nav-link px-2 link-light">Pricing</a></li>
            <li><a href="#" class="nav-link px-2 link-light">FAQs</a></li>
            <li><a href="#" class="nav-link px-2 link-light">About</a></li>
        </ul>

        <div class="col-md-3 text-end">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline-success " (click)="onAddMovie()" data-bs-toggle="modal"
                data-bs-target="#exampleModal">
                <i class="bi bi-plus"></i> Add Movies
            </button>

            <!-- Modal -->
            <div class="modal fade show" [class.show]="showModal" id="exampleModal" tabindex="-1"
                aria-labelledby="exampleModalLabel">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">{{editMode?'Update' : "Add"}} Movie</h5>
                            <button type="button" (click)="onCloseModal()" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <form [formGroup]="mvForm" (ngSubmit)="onMvSubmit()">
                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="title"
                                            id="floatingInput" placeholder="title">
                                        <label for="title">Title</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="desc"
                                            id="floatingInput" placeholder="Description">
                                        <label for="desc">Description</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="rating"
                                            id="floatingInput" placeholder="Rating">
                                        <label for="rating">Rating</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="duration"
                                            id="floatingInput" placeholder="Duration">
                                        <label for="duration">Duration</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="genre"
                                            id="floatingInput" placeholder="Genre">
                                        <label for="genre">Genre</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="likes"
                                            id="floatingInput" placeholder="Likes">
                                        <label for="likes">Likes</label>
                                    </div>

                                    <div class="form-floating py-2 form-group">
                                        <input type="text" class="form-control" formControlName="language"
                                            id="floatingInput" placeholder="Language">
                                        <label for="language">Language</label>
                                    </div>
                                    <!-- Radio Button  -->
                                    <h6 style="margin-left:0px ;">Have you watched this movie?</h6>
                                    <div class="form-floating py-2 px-5 form-group w-25">
                                        
                                        <div>
                                            <input class="form-check-input" type="radio" name="watched"
                                                formControlName="watched" id="exampleRadios1" value="Yes">
                                            <label class="form-check-label" for="exampleRadios1">
                                                Yes
                                            </label>
                                        </div>
                                        <div>
                                            <input class="form-check-input" type="radio" name="watched"
                                                formControlName="watched" id="exampleRadios2" value="No">
                                            <label class="form-check-label" for="exampleRadios2">
                                                No
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Radio button ends -->

                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                        <button type="submit" data-bs-dismiss="modal"
                                            class="btn btn-primary">{{editMode?'Update Movie':"Add Movie"}}</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </header>
</div>

<div class="container px-4 py-5" id="custom-cards">
    <h2 class="pb-2 text-center text-danger" style="font-family: cursive ;">All Movie Database</h2>

    <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
        <div *ngFor="let movie of mv">
            <div class="col">
                <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-4 shadow-lg">

                    <div class="d-flex flex-column h-100 p-5 pb-3 text-shadow-1">
                        <span class="badge bg-primary pt-2 mb-3 text-center"
                            style="width: 100px;">{{movie.genre}}</span>
                        <h2 class="pt-2 mb-4 display-6 lh-1 fw-bold">{{movie.title}}</h2>
                        <p>{{movie.desc}}</p>
                        <div class="border-bottom mb-2 py-2">
                            <ul class="d-flex list-unstyled mt-auto">
                                <li class="me-auto">
                                    <i class="bi bi-star-fill text-warning mx-2"></i>
                                    <small>{{movie.rating}}</small>
                                </li>

                                <li class="me-auto">
                                    <i class="bi bi-alarm text-info mx-2"></i>
                                    <small>{{movie.duration}}</small>
                                </li>

                                <li class="me-auto">
                                    <i class="bi bi-hand-thumbs-up-fill text-primary mx-2"></i>
                                    <small>{{movie.likes}}</small>
                                </li>

                                <li class="me-auto">
                                    <i class="bi bi-translate mx-2"></i>
                                    <small>{{movie.language}}</small>
                                </li>
                            </ul>
                        </div>
                        <ul class="d-flex list-unstyled mt-2">
                            <li class="me-auto">
                                <button type="button" class="btn btn-outline-success " (click)="onEditMovie(movie)"
                                    data-bs-toggle="modal" data-bs-target="#exampleModal">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>

                            </li>
                            <li class="me-auto mx-2">
                                <button type="button" class="btn btn-outline-danger "
                                    (click)="onDeleteMovie(movie._id)">
                                    <i class="bi bi-trash-fill"></i> Delete
                                </button>

                            </li>
                            <li class="d-flex align-items-center me-3 btn-group dropdown">
                                <!-- Example single danger button -->
                                <button type="button" class="btn btn-info dropdown-toggle" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    More
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#">{{movie.watched}}</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#">Another action</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>